[gd_scene load_steps=10 format=3 uid="uid://dypya3on0xofm"]

[ext_resource type="Script" uid="uid://ctyl477maeugn" path="res://Player/Limbs/Leg_basic/leg_basic.gd" id="1_ahqge"]
[ext_resource type="Script" uid="uid://b5040uwupcrjn" path="res://Scripts/Classes/StateMachine.gd" id="2_rqyha"]
[ext_resource type="Script" uid="uid://di5kvngdxen8y" path="res://Player/Limbs/Leg_basic/idle.gd" id="3_rqyha"]
[ext_resource type="Texture2D" uid="uid://vynaukxdo5x2" path="res://Player/Limbs/Leg_basic/Sprites/pc-robot-upper-leg-reg.png" id="4_rqyha"]
[ext_resource type="Texture2D" uid="uid://cadst7rpiis8t" path="res://Player/Limbs/Leg_basic/Sprites/pc-robot-lower-leg-reg.png" id="5_5u072"]
[ext_resource type="Texture2D" uid="uid://cu0sa1tbx1h8w" path="res://Player/Limbs/Leg_basic/Sprites/pc-robot-foot-reg.png" id="6_fdklt"]

[sub_resource type="CircleShape2D" id="CircleShape2D_6khia"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ahqge"]
radius = 58.8235
height = 117.647

[sub_resource type="CircleShape2D" id="CircleShape2D_ahqge"]
radius = 7.93493

[node name="LegBasic" type="Node2D" groups=["Limbs"]]

[node name="Hip" type="RigidBody2D" parent="."]
collision_layer = 2
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hip"]
scale = Vector2(0.16, 0.16)
shape = SubResource("CircleShape2D_6khia")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_rqyha")
initial_state = NodePath("Legging")
metadata/_custom_type_script = "uid://b5040uwupcrjn"

[node name="Legging" type="Node" parent="StateMachine"]
script = ExtResource("1_ahqge")
metadata/_custom_type_script = "uid://3xt8qxhf75ch"

[node name="LegBasic_Idle" type="Node" parent="StateMachine"]
script = ExtResource("3_rqyha")
metadata/_custom_type_script = "uid://3xt8qxhf75ch"

[node name="Thigh" type="RigidBody2D" parent="."]
position = Vector2(0, 4.94)
collision_layer = 2
collision_mask = 20

[node name="Sprite2D" type="Sprite2D" parent="Thigh"]
texture = ExtResource("4_rqyha")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Thigh"]
polygon = PackedVector2Array(2, -6.94, 2, -5.94, 3, -5.94, 3, 6.06, 2, 6.06, 2, 8.06, -1, 8.06, -1, 7.06, -2, 7.06, -2, 6.06, -3, 6.06, -3, -5.94, -2, -5.94, -2, -6.94)

[node name="KneeJoint" type="PinJoint2D" parent="."]
light_mask = 0
visibility_layer = 0
position = Vector2(1, 8.94)
scale = Vector2(0.355, 0.355)
node_a = NodePath("../Thigh")
node_b = NodePath("../Calf")
bias = 0.26
angular_limit_upper = 1.48353

[node name="KneeMuscle" type="DampedSpringJoint2D" parent="."]
light_mask = 0
position = Vector2(-2, 3.94)
scale = Vector2(0.07, 0.07)
node_a = NodePath("../Thigh")
node_b = NodePath("../Calf")
length = 200.0
rest_length = 170.0
stiffness = 64.0
damping = 0.01

[node name="Calf" type="RigidBody2D" parent="."]
position = Vector2(-1, 16.94)
collision_layer = 2
collision_mask = 4

[node name="Sprite2D" type="Sprite2D" parent="Calf"]
texture = ExtResource("5_5u072")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Calf"]
polygon = PackedVector2Array(-1, -6.94, -1, -5.94, -3, -5.94, -3, 0.0599995, -2, 0.0599995, -2, 3.06, -1, 3.06, -1, 6.06, 0, 6.06, 0, 8.06, 3, 8.06, 3, 7.06, 4, 7.06, 4, -5.94, 3, -5.94, 3, -6.94)

[node name="AnkleJoint" type="PinJoint2D" parent="."]
light_mask = 0
visibility_layer = 0
position = Vector2(0, 21.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Calf")
node_b = NodePath("../Foot")
bias = 0.26
softness = 0.1
angular_limit_upper = 1.5708

[node name="AnkleMuscle" type="DampedSpringJoint2D" parent="."]
light_mask = 0
position = Vector2(3, 15.94)
rotation = -0.146608
scale = Vector2(0.06, 0.06)
node_a = NodePath("../Calf")
node_b = NodePath("../Foot")
length = 120.0
rest_length = 60.0
stiffness = 64.0
damping = 0.01

[node name="Foot" type="RigidBody2D" parent="."]
position = Vector2(1, 23.94)
collision_layer = 2
collision_mask = 4
mass = 2.0
center_of_mass_mode = 1
center_of_mass = Vector2(0, 20)

[node name="Sprite2D" type="Sprite2D" parent="Foot"]
texture = ExtResource("6_fdklt")

[node name="ground_detection" type="Area2D" parent="Foot"]
visible = false
collision_layer = 8
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Foot/ground_detection"]
position = Vector2(2.38419e-07, 1)
scale = Vector2(0.085, 0.085)
shape = SubResource("CapsuleShape2D_ahqge")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Foot"]
polygon = PackedVector2Array(3, -1.94, -1, -1.94, -1, -0.940001, -3, -0.940001, -3, 3.06, 4, 3.06, 4, -0.940001, 3, -0.940001)

[node name="HipJoint" type="PinJoint2D" parent="."]
light_mask = 0
visibility_layer = 0
node_a = NodePath("../Thigh")
node_b = NodePath("../Hip")

[node name="KneeStopper 1" type="RigidBody2D" parent="."]
position = Vector2(3, 11.94)
collision_layer = 16
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="KneeStopper 1"]
scale = Vector2(0.13, 0.13)
shape = SubResource("CircleShape2D_ahqge")

[node name="KneeStopper 1 Connector 1" type="PinJoint2D" parent="."]
position = Vector2(3, 10.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Calf")
node_b = NodePath("../KneeStopper 1")

[node name="KneeStopper 1 Connector 2" type="PinJoint2D" parent="."]
position = Vector2(3, 12.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Calf")
node_b = NodePath("../KneeStopper 1")

[node name="KneeStopper 2" type="RigidBody2D" parent="."]
position = Vector2(3, 9.94)
collision_layer = 16
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="KneeStopper 2"]
scale = Vector2(0.13, 0.13)
shape = SubResource("CircleShape2D_ahqge")

[node name="KneeStopper 2 Connector 1" type="PinJoint2D" parent="."]
position = Vector2(3, 8.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Thigh")
node_b = NodePath("../KneeStopper 2")

[node name="KneeStopper 2 Connector 2" type="PinJoint2D" parent="."]
position = Vector2(3, 10.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Thigh")
node_b = NodePath("../KneeStopper 2")

[node name="AnkleStopper 1" type="RigidBody2D" parent="."]
position = Vector2(-2, 21.94)
collision_layer = 16
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="AnkleStopper 1"]
scale = Vector2(0.13, 0.13)
shape = SubResource("CircleShape2D_ahqge")

[node name="AnkleStopper 1 Connector 1" type="PinJoint2D" parent="."]
position = Vector2(-2, 20.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Calf")
node_b = NodePath("../AnkleStopper 1")

[node name="AnkleStopper 1 Connector 2" type="PinJoint2D" parent="."]
position = Vector2(-2, 22.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Calf")
node_b = NodePath("../AnkleStopper 1")

[node name="AnkleStopper 2" type="RigidBody2D" parent="."]
position = Vector2(-2, 23.94)
collision_layer = 16
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="AnkleStopper 2"]
scale = Vector2(0.13, 0.13)
shape = SubResource("CircleShape2D_ahqge")

[node name="AnkleStopper 2 Connector 1" type="PinJoint2D" parent="."]
position = Vector2(-2, 22.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Foot")
node_b = NodePath("../AnkleStopper 2")

[node name="AnkleStopper 2 Connector 2" type="PinJoint2D" parent="."]
position = Vector2(-2, 24.94)
scale = Vector2(0.13, 0.13)
node_a = NodePath("../Foot")
node_b = NodePath("../AnkleStopper 2")
